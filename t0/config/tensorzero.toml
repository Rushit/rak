[gateway]
bind_address = "0.0.0.0:8181"
observability.enabled = true
disable_pseudonymous_usage_analytics=true

[gateway.auth]
enabled = true

# Define the Gemini Flash model
[models.gemini_flash]
routing = ["gemini_flash_provider"]

[models.gemini_flash.providers.gemini_flash_provider]
type = "google_ai_studio_gemini"
model_name = "gemini-2.0-flash-exp"

# Define the Gemini Flash 2.5 Lite model (faster, cheaper)
[models.gemini_flash_lite]
routing = ["gemini_flash_lite_provider"]

[models.gemini_flash_lite.providers.gemini_flash_lite_provider]
type = "google_ai_studio_gemini"
model_name = "gemini-2.0-flash-lite"

# Define OpenAI GPT-4o-mini model
[models.gpt_4o_mini]
routing = ["openai_gpt_4o_mini"]

[models.gpt_4o_mini.providers.openai_gpt_4o_mini]
type = "openai"
model_name = "gpt-4o-mini-2024-07-18"

# Define OpenAI GPT-4o model
[models.gpt_4o]
routing = ["openai_gpt_4o"]

[models.gpt_4o.providers.openai_gpt_4o]
type = "openai"
model_name = "gpt-4o"

# Define the generate_haiku function using Gemini
[functions.generate_haiku]
type = "chat"

[functions.generate_haiku.variants.main]
type = "chat_completion"
weight = 1
model = "gemini_flash"
system_template = "haiku_system.txt"

# Define a general chat function using OpenAI
[functions.openai_chat]
type = "chat"

[functions.openai_chat.variants.main]
type = "chat_completion"
weight = 1
model = "gpt_4o_mini"
system_template = "haiku_system.txt"

# Define a general chat function using Gemini Flash Lite
[functions.gemini_chat]
type = "chat"

[functions.gemini_chat.variants.main]
type = "chat_completion"
weight = 1
model = "gemini_flash_lite"
system_template = "haiku_system.txt"
